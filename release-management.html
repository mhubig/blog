<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Release Management Manifest</title>
  <meta name="author" content="Markus Hubig">



  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://mhubig.de/favicon.png" rel="icon">
  <link href="http://mhubig.de/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="http://mhubig.de/theme/js/modernizr-2.0.js"></script>
  <script src="http://mhubig.de/theme/js/ender.js"></script>
  <script src="http://mhubig.de/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="http://mhubig.de/">admin punk and python junk ...</a></h1>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>



<ul class="main-navigation">
    <li >
    <a href="http://mhubig.de/category/administration.html">Administration</a>
    </li>
    <li class="active">
    <a href="http://mhubig.de/category/administration-development.html">Administration, development</a>
    </li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Release Management Manifest</h1>
      <p class="meta"><time datetime="2013-06-25T00:00:00" pubdate>Tue 25 June 2013</time></p>
</header>

  <div class="entry-content"><div class="highlight"><pre>Author: Markus Hubig
Date: 2013-06-26
Draft: 0.1.16
</pre></div>


<h3>Vorwort</h3>
<p>Im Moment besteht das Problem, dass es sehr viele unterschiedliche Ansätze
dafür gibt, wo und wie Releases unserer Softwarepackete, Firmware Dateien
und Manuals abgelegt werden. Das hat in letzter Zeit immer wieder zu Problemen
geführt. Deswegen haben wir (<a href="mailto:mhubig@imko.de">Markus</a>,
<a href="mailto:ntj@imko.de">Nicholas</a>, <a href="mailto:so@imko.de">Steven</a> und
<a href="mailto:zp@imko.de">Zhen</a>) uns ein einfaches Schema zur Ablage und Benennung
überlegt und uns auf dieses als Standart&nbsp;geeinigt.</p>
<h3>Was ist&nbsp;betroffen</h3>
<p>Das neue Release-Schema gilt für alle Software Packete, Firmware Dateien,
Hardware Pläne und Protokoll&nbsp;Manuals.</p>
<h3>Das&nbsp;Release-Schema</h3>
<ol>
<li>
<p><strong>Zuständigkeit</strong></p>
<p>Jeder Entwickler ist für das Release Mangement seiner Software selbst&nbsp;verantwortlich!</p>
</li>
<li>
<p><strong>Zentraler Ort für die&nbsp;Ablage</strong></p>
<p>Der Zentrale Ort für die Ablage der Reseases ist von jetzt an die
<strong>Dropbox</strong>. Und zwar folgende&nbsp;Ordner:</p>
<div class="highlight"><pre><span class="go">Software: Dropbox/IMKO GmbH (extern)/Software</span>
<span class="go">Firmware: Dropbox/IMKO GmbH (extern)/Firmware</span>
<span class="go">Hardware: Dropbox/IMKO GmbH (extern)/Hardware</span>
<span class="go">Protocol: Dropbox/IMKO GmbH (extern)/Protocol</span>
</pre></div>


</li>
<li>
<p><strong>Namensschema</strong></p>
<p>Unterhalb der oben genannten Ordner werden die Dateien nach folgendem
Schema benannt und abgelegt (mit Beispielen). Dabei halten wir uns bei den
Versionsnummern an das in
<a href="http://semver.org/spec/v2.0.0.html">Semantic Versioning 2.0.0</a>
vorgeschlagene&nbsp;Schema.</p>
<div class="highlight"><pre>                   ,----- Trennzeichen zwischen Name und Version
                   |
                   V
Kategorie/Name/Name_0.0.0.ext
--------- ---- ---- - - - ---
|         |    |    | | | |
|         |    |    | | | `- Extention (exe, pdf, h86, hex, ...)
|         |    |    | | `- PATCH (wird bei Bugfixes hochgezählt)
|         |    |    | `- MINOR (wird bei neuen Features hochgezählt)
|         |    |    `- MAJOR (bei inkompatiblen API Änderungen)
|         |    `- Name der Software (Ohne _ , . und Lehrzeichen)
|         `- Name der Software (Ohne _ , . und Lehrzeichen)
`- Kategorie (Software, Firmware, Hardware, Protocol)
</pre></div>


<p>Besteht das Release aus mehr als einer Datei, kann natürlich auch alles in
einem <em>versionierten Ordner</em> abgelegt werden. Die Releasedatei <strong>muss</strong>
aber natürlich trotz allem <em>versioniert</em>&nbsp;sein!</p>
<div class="highlight"><pre><span class="go">Kategorie/Name/Name_0.0.0/Name_0.0.0.ext</span>
<span class="go">Kategorie/Name/Name_0.0.0/extra-lib.ext</span>
<span class="go">Kategorie/Name/Name_0.0.0/image.ext</span>
<span class="go">Kategorie/Name/Name_0.0.0/requirements.txt</span>
</pre></div>


<p><strong>Beispiele:</strong></p>
<div class="highlight"><pre><span class="go">Software/Trime-Tool/Trime-Tool_0.18.9/Trime-Tool_0.18.9.msi</span>
<span class="go">Firmware/Trime-SONO/Trime-SONO_2.6.6.13.h86</span>
<span class="go">Protocol/IMPBus2-PICO/IMPBus2-PICO_2.25.0.pdf</span>
<span class="go">Protocol/IMPBus2-SONO/IMPBus2-SONO_1.3.0.pdf</span>
<span class="go">Protocol/SDI12-PICO/SDI12-PICO_1.1.0.pdf</span>
<span class="go">Hardware/Trime-3L/Trime-3L_15.1.0/Trime-3L_15.1.0.sch</span>
<span class="go">Hardware/Trime-3L/Trime-3L_15.1.0/Trime-3L_15.1.0.brd</span>
</pre></div>


</li>
<li>
<p><strong>Changelog</strong></p>
<p>In jedem Namens-Ordner (e.g. <code>Software/Trime-Tool</code>) muss sich eine
<code>ChangeLog.txt</code> genannte Datei befinden, in der für jedes neue Release
ein Eintrag hinzugefügt wird, der die Änderungen zur vorhergehenden
Version&nbsp;zusammenfasst.</p>
<p>Dabei ist folgendes Format&nbsp;einzuhalten:</p>
<div class="highlight"><pre><span class="n">YYYY</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">DD</span> <span class="n">MAJOR</span><span class="p">.</span><span class="n">MINOR</span><span class="p">.</span><span class="n">PATCH</span><span class="p">,</span> <span class="n">Author</span> <span class="n">Name</span> <span class="o">&lt;</span><span class="n">email</span><span class="err">@</span><span class="n">address</span><span class="p">.</span><span class="n">de</span><span class="o">&gt;</span>

    <span class="o">-</span> <span class="n">COMPONENT</span><span class="o">:</span> <span class="n">additions</span>

    <span class="o">+</span> <span class="n">COMPONENT</span><span class="o">:</span> <span class="n">removals</span>

    <span class="o">*</span> <span class="n">COMPONENT</span><span class="o">:</span> <span class="n">fixes</span> <span class="n">and</span> <span class="n">miscellaneous</span> <span class="n">changes</span>
</pre></div>


<p>Hier ein kleines Beispiel (aus Zhen&#8217;s TrimeTool <code>VersionInfo.txt</code>):</p>
<div class="highlight"><pre><span class="mi">2012</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span> <span class="mf">0.18.37</span><span class="p">,</span> <span class="n">Zhen</span> <span class="n">Pei</span> <span class="o">&lt;</span><span class="n">zp</span><span class="err">@</span><span class="n">imko</span><span class="p">.</span><span class="n">de</span><span class="o">&gt;</span>

    <span class="o">*</span> <span class="n">FIX</span><span class="o">:</span> <span class="n">In</span> <span class="n">Fenster</span> <span class="s">&quot;Basic Balancing&quot;</span> <span class="n">werden</span> <span class="n">die</span> <span class="n">zweien</span> <span class="n">Parameters</span>
        <span class="n">von</span> <span class="n">TDR</span><span class="o">-</span><span class="n">Conduct</span> <span class="n">nach</span> <span class="n">dem</span> <span class="n">Eintippen</span> <span class="n">bleiben</span><span class="p">,</span> <span class="n">wenn</span> <span class="n">die</span> <span class="n">Software</span>
        <span class="n">nicht</span> <span class="n">aus</span> <span class="n">ist</span><span class="p">.</span>

<span class="mi">2012</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">25</span> <span class="mf">0.18.38</span><span class="p">,</span> <span class="n">Zhen</span> <span class="n">Pei</span> <span class="o">&lt;</span><span class="n">zp</span><span class="err">@</span><span class="n">imko</span><span class="p">.</span><span class="n">de</span><span class="o">&gt;</span>

    <span class="o">+</span> <span class="n">SERIAL</span> <span class="n">PORT</span><span class="o">:</span> <span class="n">Hat</span> <span class="n">jetzt</span> <span class="n">zwei</span> <span class="n">Modes</span> <span class="n">f</span><span class="err">ü</span><span class="n">r</span> <span class="n">den</span> <span class="n">Serial</span> <span class="n">Port</span><span class="p">.</span>
        <span class="nl">Manual:</span> <span class="n">die</span> <span class="n">Software</span> <span class="n">nutzt</span> <span class="n">den</span> <span class="n">ausgew</span><span class="err">ä</span><span class="n">hlten</span> <span class="n">Serial</span> <span class="n">Port</span><span class="p">.</span>
        <span class="nl">Automatisch:</span> <span class="n">die</span> <span class="n">Software</span> <span class="n">sucht</span> <span class="n">den</span> <span class="n">Port</span> <span class="n">automatisch</span><span class="p">.</span>
</pre></div>


<p><strong>Tipp:</strong> Wer seinen Quellcode mittels <a href="http://git-scm.com">git</a> verwaltet,
kann sich die Einträge für das Changelog File ganz einfach mit Hilfe von
<code>git log</code> erzeugen:</p>
<div class="highlight"><pre><span class="gp">$</span> git log release-0.8.2..HEAD --reverse --no-merges --pretty<span class="o">=</span>format:<span class="s1">&#39;* %s&#39;</span>

<span class="go">* Adds compatibility for serial urls like &#39;loop://&#39;</span>
<span class="go">* Fixes the measure_mode bug!</span>
</pre></div>


</li>
<li>
<p><strong>Abhängigkeiten</strong></p>
<p>Eine wichtige Information, die notwendig ist um Softwareprobleme zu
vermeiden, ist die Dokumentation von Abhängikeiten. Beispiele für solche
Abhängikeiten sind z.B. <code>implib2_0.8.5</code> benötigt <code>pyserial_2.5</code> oder neuer.
Oder <code>SONO-Config_1.29.0</code> benötigt mindestens die <code>PICO-FW_1.140612</code> oder
die <code>SONO-FW_2.060612</code> oder&nbsp;neuer.</p>
<p>Diese Abhänigkeiten sollen in der Datei <code>requirements.txt</code> dokumentiert
werden. Diese Datei kann entweder in einem <em>versionierten Software Ordner</em>
abgelegt werden&nbsp;&#8230;</p>
<div class="highlight"><pre><span class="go">Software/SONO-Config/ChangeLog.txt</span>
<span class="go">Software/SONO-Config/SONO-Config_1.29.0/SONO-Config_1.29.0.msi</span>
<span class="go">Software/SONO-Config/SONO-Config_1.29.0/requirements.txt</span>
</pre></div>


<p>&#8230; oder selbst <em>versioniert</em>&nbsp;werden.</p>
<div class="highlight"><pre><span class="go">Software/SONO-Config/ChangeLog.txt</span>
<span class="go">Software/SONO-Config/SONO-Config_1.29.0.msi</span>
<span class="go">Software/SONO-Config/requirements_1.29.0.txt</span>
</pre></div>


<p>Diese Datei beinhaltet dann für jede Abhänigkeit eine Zeile. Diese Zeilen
bestehen aus der Bezeichnug der Abhänigket, einem relationalen Operator
(<code>==</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>!=</code>) und der Bezugs-Version.&nbsp;Beispiele:</p>
<div class="highlight"><pre><span class="n">pyserial</span><span class="o">&gt;=</span><span class="mf">2.5</span>

<span class="n">picofw</span><span class="o">&gt;=</span><span class="mf">1.140612</span>
<span class="n">sonofw</span><span class="o">&gt;=</span><span class="mf">2.060612</span>

<span class="n">sonohw</span><span class="o">&gt;=</span><span class="mf">1.14</span><span class="o">.</span><span class="mi">6</span>
<span class="n">picohw</span><span class="o">&gt;=</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">12</span>

<span class="n">sono</span><span class="o">-</span><span class="n">impbus2</span><span class="o">==</span><span class="mf">1.3</span>
<span class="n">pico</span><span class="o">-</span><span class="n">impbus2</span><span class="o">==</span><span class="mf">0.25</span>
</pre></div>


<p>Dabei gilt, dass nicht spezifizierte Stellen wie Platzhalter&nbsp;wirken:</p>
<div class="highlight"><pre><span class="n">sono</span><span class="o">-</span><span class="n">impbus2</span><span class="o">==</span><span class="mf">1.3</span><span class="p">:</span> <span class="n">sono</span><span class="o">-</span><span class="n">impbus2_1</span><span class="o">.</span><span class="mf">3.1</span>   <span class="o">=&gt;</span> <span class="n">OK</span>
<span class="n">sono</span><span class="o">-</span><span class="n">impbus2</span><span class="o">==</span><span class="mf">1.3</span><span class="p">:</span> <span class="n">sono</span><span class="o">-</span><span class="n">impbus2_1</span><span class="o">.</span><span class="mf">3.999</span> <span class="o">=&gt;</span> <span class="n">OK</span>
</pre></div>


<p>Bezeichnungen können auch mehrmals genutzt werden,&nbsp;z.B.:</p>
<div class="highlight"><pre><span class="n">pyserial</span><span class="o">&gt;=</span><span class="mf">2.5</span>
<span class="n">pyserial</span><span class="o">&lt;=</span><span class="mf">3.0</span>
<span class="n">pyserial</span><span class="o">!=</span><span class="mf">2.5</span><span class="o">.</span><span class="mi">1</span>
<span class="n">pyserial</span><span class="o">!=</span><span class="mf">2.5</span><span class="o">.</span><span class="mi">76</span>
</pre></div>


</li>
<li>
<p><strong>Checksum</strong></p>
<p>Um die Korrecktheit der Dateien verifizierbar zu machen, ist es nötig für
Jede Release-Datei eine Checksummen zu berechnen und zusammen mit dieser
abzuspeichern. <em>State of the Art</em> is heutzutage eine mit dem
<a href="https://de.wikipedia.org/wiki/SHA-2">sha512</a> Algorythmus berechnete&nbsp;Checksumme.</p>
<h4>Erzeugen und Verifizieren der Checksumme unter&nbsp;Windows</h4>
<p>Unter Windows kann eine sha512 Checksumme ganz einfach mit dem
<a href="http://www.krylack.com/file-checksum-tool/">File Checksum Tool</a> erzeugt&nbsp;werden:</p>
<p><img alt="screenshot" src="http://www.krylack.com/images/file-checksum-tool-screenshot.jpg" /></p>
<h4>Erzeugen und Verifizieren der Checksumme unter&nbsp;Linux</h4>
<div class="highlight"><pre><span class="gp">$</span> sha512sum Pico-BT_1.18.0.elf &gt; Pico-BT_1.18.0.elf.sha512
<span class="gp">$</span> sha512sum -c  Pico-BT_1.18.0.elf.sha512
<span class="go">Pico-BT_1.18.0.elf: OK</span>
</pre></div>


<p>Oder für einen ganzen&nbsp;Ordner:</p>
<div class="highlight"><pre><span class="gp">$</span> sha512sum SONO-View_1.0.0/* &gt; SONO-View_1.0.0.sha512
<span class="gp">$</span> sha512sum -c SONO-View_1.0.0.sha512
<span class="go">SONO-View_1.0.0/AVRootloader.dev: OK</span>
<span class="go">SONO-View_1.0.0/AVRootloader.exe: OK</span>
<span class="go">SONO-View_1.0.0/AVRootloader.ini: OK</span>
<span class="go">SONO-View_1.0.0/SView_APP_1.0.0.hex: OK</span>
<span class="go">SONO-View_1.0.0/SView_IBT_1.0.0.hex: OK</span>
<span class="go">SONO-View_1.0.0/requirements.txt: OK</span>
</pre></div>


<h4>Erzeugen und Verifizieren der Checksumme unter Mac <span class="caps">OS</span>&nbsp;X</h4>
<div class="highlight"><pre><span class="gp">$</span> shasum -a 512 Pico-BT_1.18.0.elf &gt; Pico-BT_1.18.0.elf.sha512
<span class="gp">$</span> shasum -a 512 -c Pico-BT_1.18.0.elf.sha512
<span class="go">Pico-BT_1.18.0.elf: OK</span>
</pre></div>


<p>Oder für einen ganzen&nbsp;Ordner:</p>
<div class="highlight"><pre><span class="gp">$</span> shasum -a 512 SONO-View_1.0.0/* &gt; SONO-View_1.0.0.sha512
<span class="gp">$</span> shasum -a 512 -c SONO-View_1.0.0.sha512
<span class="go">SONO-View_1.0.0/AVRootloader.dev: OK</span>
<span class="go">SONO-View_1.0.0/AVRootloader.exe: OK</span>
<span class="go">SONO-View_1.0.0/AVRootloader.ini: OK</span>
<span class="go">SONO-View_1.0.0/SView_APP_1.0.0.hex: OK</span>
<span class="go">SONO-View_1.0.0/SView_IBT_1.0.0.hex: OK</span>
<span class="go">SONO-View_1.0.0/requirements.txt: OK</span>
</pre></div>


<h4>Namensschema für die Checksummen&nbsp;Datei</h4>
<ul>
<li>Für eine einzelne Datei: <code>&lt;filename&gt;.&lt;ext&gt;.sha512</code></li>
<li>Für einen ganzen Ordner: <code>&lt;directoryname&gt;.sha512</code></li>
</ul>
</li>
</ol></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">Markus Hubig</span>
  </span>
<time datetime="2013-06-25T00:00:00" pubdate>Tue 25 June 2013</time>  <span class="categories">
    <a class="category" href="http://mhubig.de/tag/git.html">git</a>
    <a class="category" href="http://mhubig.de/tag/release-management.html">release management</a>
  </span>
</p><div class="sharing">
</div>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="http://mhubig.de/release-management.html">Release Management Manifest</a>
      </li>
      <li class="post">
          <a href="http://mhubig.de/multiversion-windows7-iso.html">HowTo create a multiversion Windows 7 ISO-Image on Mac</a>
      </li>
      <li class="post">
          <a href="http://mhubig.de/samba-openldap-nis.html">Install and setup Samba and OpenLDAP</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="http://mhubig.de/category/administration.html">administration</a></li>
        <li><a href="http://mhubig.de/category/administration-development.html">administration, development</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="http://mhubig.de/tag/samba.html">samba</a>,    <a href="http://mhubig.de/tag/installation.html">installation</a>,    <a href="http://mhubig.de/tag/release-management.html">release management</a>,    <a href="http://mhubig.de/tag/windows7.html">windows7</a>,    <a href="http://mhubig.de/tag/git.html">git</a>,    <a href="http://mhubig.de/tag/ldap.html">ldap</a>  </section>


    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="http://twitter.com/mhubig" target="_blank">twitter</a></li>
            <li><a href="http://bitbucket.org/mhubig" target="_blank">bitbucket</a></li>
            <li><a href="http://github.com/mhubig" target="_blank">github</a></li>
        </ul>
    </section>
    <section>
        <h1>Blogroll</h1>
        <ul>
            <li><a href="http://imko.de" target="_blank">IMKO GmbH</a></li>
            <li><a href="http://python.org/" target="_blank">Python</a></li>
            <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
        </ul>
    </section>

</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2013  - Markus Hubig -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38038655-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-38038655-1');
    ga('send', 'pageview');
</script>
	<script type="text/javascript">
	  var disqus_shortname = 'mhubig';
          var disqus_identifier = '/release-management.html';
          var disqus_url = 'http://mhubig.de/release-management.html';
          var disqus_title = 'Release Management&nbsp;Manifest';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>